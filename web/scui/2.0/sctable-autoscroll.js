(function(){function V(a){return void 0!==a&&null!==a}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,function(b){return c.call(a,b)}):a["on"+b]=c}function I(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function ma(a){return'<div id="tableLoadingSpinner" class="el-loading-mask" style="display:none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">'+
(a||"\u6570\u636e\u52a0\u8f7d\u4e2d...")+"</p></div></div>"}function na(){m.getElementById("tableLoadingSpinner").style.display="none"}function C(a){return"[object array]"===Object.prototype.toString.call(a).toLowerCase()}function O(a,b,c){var d={};d.col=b;a.prop&&(d.prop=a.prop);"select"===a.type?(d.html='<label><input class="table_check_all" name="'+q+'_selectall" type="checkbox"></label>',d.class="table_select_all"):d.value=a.label||"#";var e;a.labelStyle&&(b=a.labelStyle["background-color"]||
a.labelStyle.backgroundColor||"",e=a.labelStyle.color||"",b&&(d.bgcolor=b),e&&(d.color=e));d.width=a.width||c||100;return d}function y(a,b,c,d){var e={};e.row=c;e.col=d;b.prop&&(e.prop=b.prop);"select"===b.type?(e.html='<label><input class="table_check" name="'+q+'_select[]" type="checkbox"></label>',e.class="table_select"):"index"===b.type?e.value=c:"fold"===b.type?"fold_root"===b.class?e.html='<span class="el-icon-arrow-down"></span><span class="el-icon-arrow-right"></span>':e.value=b.index:b.template?
e.html="function"===typeof b.template?b.template(a):"string"===typeof b.template?b.template:typeof b.template:e.value=b.prop&&a[b.prop]?a[b.prop]:"string"===typeof b.emptyText?b.emptyText:"-";b.cellStyle&&(a=b.cellStyle["background-color"]||b.cellStyle.backgroundColor||"",c=b.cellStyle.color||"",a&&(e.bgcolor=a),c&&(e.color=c));b.class&&(e.class=b.class);b.rowspan&&(e.rowspan=b.rowspan);b.colspan&&(e.colspan=b.colspan);b.align&&("left"===b.align?e.class=e.class?e.class+" left":"left":"right"===b.align?
e.class=e.class?e.class+" right":"right":"center"===b.align&&(e.class=e.class?e.class+" center":"center"));return e}function oa(a,b){var c=0,d=0,e=0;b=da(b);for(var g=0,f=b.length;g<f;g++){var h=b[g];h&&!h.hidden&&(d++,"number"===typeof h.width&&0<h.width&&(e++,c+=h.width))}if(d<=e)return 100;d-=e;a-=c;0<a?(c=parseInt(a/d,10),console.log("\u53ef\u7528\u5bbd\u5ea6\u6709\u4f59")):(c=parseInt(c/e,10),console.log("\u65e0\u53ef\u7528\u5bbd\u5ea6"));return 100<c?c:100}function da(a,b){if(!t.length)return[];
var c=[],d=C(a)&&a.length;if(d&&b){b=0;for(var e=a.length;b<e;b++){var g=ea(a[b]);g&&!g.hidden&&c.push(g)}return c}b=0;for(e=t.length;b<e;b++)g=t[b],g.hidden||d&&g.prop&&-1===a.indexOf(g.prop)||c.push(g);return c}function fa(a,b){a=a||w;b=b||x;for(var c=[],d=ga?Math.min(b.length,ga):b.length,e=pa,g=M,f=1,h=1,l=0;l<d;l++){var k=b[l],m=k[g],h=[y(k,{type:"select",align:"center",width:40},f,h++),y(k,{type:"fold",align:"center",class:"fold_root",width:40},f,h++),y(k,{prop:e,colspan:a.length},f,h++)];c.push(h);
f++;h=1;p.push(k);for(var n=0,q=m.length;n<q;n++){for(var k=m[n],r=[y(k,{type:"select",align:"center",width:40},f,h++),y(k,{type:"fold",align:"center",class:"fold_sub",index:n+1,width:40},f,h++)],t=0,u=a.length;t<u;t++){var v=y(k,a[t],f,h++);r.push(v)}c.push(r);f++;h=1;p.push(k)}}return c}function qa(a){var b=m.createElement("div"),c="";addClass(b,"table-wrapper");for(var d=0,e=a.length;d<e;d++)c+=ha(a[d],d+1);b.innerHTML=W(c);m.body.appendChild(b);a=b.querySelectorAll('tr[rowy="2"] td');P=[];d=0;
for(e=a.length;d<e;d++)P.push(a[d].offsetWidth);J(b)}function ra(){if(P&&0!==P.length)for(var a=0,b=w.length;a<b;a++){var c=w[a];if(void 0===c.width||!c.width)for(var c=m.querySelectorAll('col[name="column_'+(a+3)+'"]'),d=parseInt(c[0].getAttribute("width"),10),e=P[a+2],d=d>e?d:e,e=0,g=c.length;e<g;e++)c[e].setAttribute("width",d)}}function J(a){var b=a.parentNode;b&&b.removeChild(a)}function Q(a,b,c,d,e,g,f,h){g=g||ia(b,!0,d);f=f||ja(b,!0,c);b=[];c="";for(var l=0,k=0;k<g.length;k++)c+='<col name="column_'+
(k+1)+'" width="'+g[k].width+'" />',l+=g[k].width;c+="";C(b)&&(b[0]=l,b[1]=l+K);c="<colgroup>"+c+"</colgroup>";g=W(c+("<thead>"+sa(g,!0)+"</thead>"),"width:"+b[0]+"px;");f=W(c+ta(f),"width:"+b[0]+"px;");b="";if(d||e)"number"===typeof d?b="width:"+d+"px;":"string"===typeof d&&-1!==d.indexOf("%")&&(b="width:"+d+";"),e&&(b+="height:"+e+"px;"),b='style="'+b+'"';e?(d=m.createElement("div"),d.innerHTML='<div class="table-wrapper complex-table" '+b+'><div class="complex-table__header">'+g+"</div></div>",
m.body.appendChild(d),c=d.querySelector(".complex-table__header").offsetHeight,e='style="height:'+(e-c)+'px;"',J(d),a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+g+'</div><div class="complex-table__body" '+e+">"+f+"</div>"+ma()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div><div class="resize-proxy hidden"></div></div>'):a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+
g+'</div><div class="complex-table__body">'+f+"</div>"+ma()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div><div class="resize-proxy hidden"></div></div>';return a}function X(){var a=parseInt(this.getAttribute("pop-idx"),10);z[a]&&clearTimeout(z[a]);B[a].update();B[a].popper.style.display="block"}function Y(){var a=parseInt(this.getAttribute("pop-idx"),10);z[a]&&clearTimeout(z[a]);z[a]=setTimeout(function(){B[a].popper.style.display="none"},100)}function ua(){var a=m.getElementById(q),b=
a.querySelector(".complex-table__header"),a=a.querySelector(".complex-table__body");n(a,"scroll",function(){b.scrollLeft=this.scrollLeft;this.scrollTop+this.offsetHeight>=this.scrollHeight&&va()})}function R(a){var b=a.parentNode.parentNode.parentNode;a.checked?addClass(b,"selected"):removeClass(b,"selected")}function wa(){for(var a=m.querySelectorAll(".fold_root"),b=this.checked,c=0,d=a.length;c<d;c++){var e=a[c].previousSibling.querySelector(".table_check");e.checked!==b&&e.click()}if(r.onClickCheckAll)r.onClickCheckAll(b,
D())}function S(){var a=m.querySelector(".table_check_all");if(!this.checked&&(a.checked=!1,R(a),r.onSelect))r.onSelect(D());R(this);a=parseInt(this.parentNode.parentNode.parentNode.getAttribute("rowy"),10);if(r.onSelect)r.onSelect(D());if(r.onClickCheck)r.onClickCheck(E(a),a,this.checked);p[a-1].checked=this.checked}function xa(a,b,c,d){d[0]=0;d[1]=0;d[2]=0;var e=a.length;b&&(d[0]=a.slice(0,b));c&&(d[1]=a.slice(e-c))}function Ha(a,b,c,d){for(var e=[],g=[],f=0,h=a.length;f<h;f++){var l=[];xa(a[f],
b,c,l);e[f]=l[0];g[f]=l[1]}d[0]=e;d[1]=g}function T(a,b,c){var d=a.style[b]||"0px",d=d.slice(0,d.indexOf("px"));c=parseInt(d)+c;a.style[b]=c+"px"}function Z(a){a.stopPropagation()}function Ia(a){if(a.prop&&a.onClick)for(var b=m.querySelectorAll('td[data-prop="'+a.prop+'"]'),c=0,d=b.length;c<d;c++)b[c].style.cursor="pointer",n(b[c],"click",function(b){b.stopPropagation();b=this.parentNode.getAttribute("rowy");a.onClick.call(this,p[b-1])})}function L(){this.querySelector(".table_check").click()}function ya(a,
b){a=F[a];for(var c=0,d=a.length;c<d;c++)a[c].style.display=b}function ka(a){a.stopPropagation();a=this.parentNode;var b=parseInt(a.getAttribute("fold-row-index"),10);hasClass(a,"closed")?(ya(b,"table-row"),removeClass(a,"closed")):(ya(b,"none"),addClass(a,"closed"));if(r.onClickFoldRoot){var c=parseInt(a.getAttribute("rowy"));r.onClickFoldRoot(hasClass(a,"closed"),E(c),za(b),b,c,this.nextSibling)}}function la(){for(var a=parseInt(this.parentNode.getAttribute("fold-row-index"),10),a=F[a],b=this.querySelector(".table_check").checked,
c=0,d=a.length;c<d;c++){var e=a[c].querySelector(".table_check");e.disabled||(e.checked=b,R(e))}if(r.onSelect)r.onSelect(D());r.onClickRootRow&&(a=this.querySelector(".table_check"),b=this.parentNode,c=parseInt(b.getAttribute("fold-row-index"),10),d=u[c].nextSibling,e=parseInt(b.getAttribute("rowy"),10),r.onClickRootRow(E(e),e,a.checked,hasClass(b,"closed"),D(c),d))}function aa(){var a=this.querySelector(".table_check").checked,b=parseInt(this.parentNode.getAttribute("fold-row-index"),10),c=u[b].previousSibling.querySelector(".table_check");
if(a){a=m.querySelector('.fold_root_row[fold-row-index="'+b+'"]').nextSibling;for(b=!0;hasClass(a,"fold_sub_row");){var d=a.querySelector(".table_check");if(!d.disabled&&!d.checked){b=!1;break}a=a.nextSibling}if(b&&!c.checked&&(c.checked=!0,R(c),r.onSelect))r.onSelect(D())}else if(c.checked&&(c.checked=!1,R(c),r.onSelect))r.onSelect(D());if(r.onClickSubRow){var c=this.querySelector(".table_check"),e=this.parentNode,a=parseInt(e.getAttribute("fold-row-index"),10),b=u[a].nextSibling,d=parseInt(u[a].parentNode.getAttribute("rowy"),
10),e=parseInt(e.getAttribute("rowy"),10);r.onClickSubRow(E(e),e,c.checked,E(d),D(a),b)}}function Ja(a,b,c){F[b].push(a);addClass(a,"fold_sub_row");a.setAttribute("fold-row-index",b);b=a.querySelector(".table_select");n(b,"click",Z);var d=a.querySelector(".table_check");--c;void 0!==p[c].disabled&&(d.disabled=p[c].disabled);void 0!==p[c].checked&&(c=p[c].checked,(d.checked=c)&&addClass(a,"selected"));d=0;for(c=w.length;d<c;d++){var e=w[d];Aa(a,e);if(e.prop&&e.onClick){var g=a.querySelector('td[data-prop="'+
e.prop+'"]');g.style.cursor="pointer";n(g,"click",function(a){a.stopPropagation();a=this.parentNode.getAttribute("rowy");e.onClick.call(this,p[a-1])})}}n(b.querySelector(".table_check"),"click",S);n(b,"click",aa);n(a,"click",L)}function va(a){if(!(N>=H.length)){a=a||H[N++];for(var b=fa(null,[a]),c=M,d=0,e=0,g=x.length;e<g;e++)d+=x[e][c].length+1;c=d+1;d=u.length;F[d]=[];for(var e=m.querySelector(".complex-table__body table").lastChild,g=0,f=b.length;g<f;g++){var h=Ba(b[g],c);e.appendChild(h);if(0==
g){var l=d,k=c++,q=h.querySelector(".fold_root");addClass(h,"fold_root_row");h.setAttribute("fold-row-index",l);l=h.querySelector(".table_select");n(l,"click",Z);var r=h.querySelector(".table_check"),k=k-1;void 0!==p[k].disabled&&(r.disabled=p[k].disabled);void 0!==p[k].checked&&(k=p[k].checked,(r.checked=k)&&addClass(h,"selected"));n(l.querySelector(".table_check"),"click",S);n(l,"click",la);n(q,"click",ka);n(h,"click",L)}else Ja(h,d,c++)}u=m.querySelectorAll(".fold_root");G=m.querySelectorAll(".fold_sub");
x.push(a)}}function Ca(){setTimeout(function(){va();N<H.length&&Ca()},1E3)}function Aa(a,b){if(V(b.popover)&&V(b.prop)){var c=b.popover,d="",e=!1;"string"===typeof c?d=c:"function"===typeof c&&(e=!0);b=a.querySelector('td[data-prop="'+b.prop+'"]');addClass(b,"popover-cell");var g=m.createElement("div");if(e)if(a=parseInt(a.getAttribute("rowy")),c=c(E(a)))g.innerHTML=c;else return;else g.innerHTML=d;g.style.display="none";addClass(g,"el-popover");m.body.appendChild(g);b.style.cursor="help";c=new Popper(b,
g,{placement:"auto-right",eventsEnabled:!1});c.popper.setAttribute("pop-idx",A);c.reference.setAttribute("pop-idx",A);n(c.popper,"mouseenter",X);n(c.reference,"mouseenter",X);n(c.popper,"mouseleave",Y);n(c.reference,"mouseleave",Y);B[A]=c;z[A]=null;A++}}function Ka(a,b,c){addClass(a,"fold_sub_row");a.setAttribute("fold-row-index",b);b=a.querySelector(".table_select");n(b,"click",Z);var d=a.querySelector(".table_check");--c;void 0!==p[c].disabled&&(d.disabled=p[c].disabled);void 0!==p[c].checked&&
(c=p[c].checked,(d.checked=c)&&addClass(a,"selected"));d=0;for(c=w.length;d<c;d++){var e=w[d];Aa(a,e);if(e.prop&&e.onClick){var g=a.querySelector('td[data-prop="'+e.prop+'"]');g.style.cursor="pointer";n(g,"click",function(a){a.stopPropagation();a=this.parentNode.getAttribute("rowy");e.onClick.call(this,p[a-1])})}}n(b.querySelector(".table_check"),"click",S);n(b,"click",aa);n(a,"click",L)}function Ba(a,b){function c(a){var b=a.col,c=a.row,d=a.prop||!1,e=a.value||a.html||"-",g="string"===typeof a.class?
a.class:"",f=m.createElement("td");f.innerHTML=e;f.setAttribute("data-prop",d);addClass(f,"cell_"+b+"_"+c+" "+g);a.rowspan&&(f.rowSpan=a.rowspan);a.colspan&&(f.colSpan=a.colspan);a.color&&(f.style.color=a.color);a.bgcolor&&(f.style.backgroundColor=a.bgcolor);return f}var d=m.createElement("tr");if(void 0!==a&&null!==a&&a.length){b=b||1;for(var e=0,g=a.length;e<g;e++)d.appendChild(c(a[e]));d.setAttribute("rowy",b);addClass(d,"row_"+b);return d}}function za(a){a=m.querySelector('.fold_root_row[fold-row-index="'+
a+'"]').nextSibling;for(var b=[];hasClass(a,"fold_sub_row");){if(a.querySelector(".table_check").checked){var c=parseInt(a.getAttribute("rowy"),10);b.push(E(c))}a=a.nextSibling}return b}function ba(a,b){for(var c=0;c<a.length;c++)if(a[c].prop==b.prop&&a[c].row==b.row)return!0;return!1}function Da(a){return m.querySelectorAll("tbody tr")[a.row-1].querySelector("[data-prop="+a.prop+"]")}function Ea(){console.log("\u9690\u85cf\u52a0\u8f7d\u52a8\u753b...");na()}var Fa="undefined"!==typeof Popper,q="",
v={version:"1.0.0"},t=[],x=[],H=[],N=0,La=0,U=1,u=[],G=[],F=[],m=window.document,r={onSelect:null,onClickCheck:null,onClickRootRow:null,onClickSubRow:null,onClickFoldRoot:null,onClickCheckAll:null},K=function(){var a=m.createElement("div");a.style.overflow="scroll";a.style.visibility="hidden";a.style.width="100px";a.style.position="absolute";a.style.top="-9999px";m.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=m.createElement("div");c.style.width="100%";a.appendChild(c);
c=c.offsetWidth;a.parentNode.removeChild(a);scrollBarWidth=b-c;return scrollBarWidth+1}(),ha=function(a,b){if(void 0===a||null===a||!a.length)return"";b=b||1;for(var c="",d=0,e=a.length;d<e;d++)var g=a[d],f=g.prop||!1,h=g.bgcolor||!1,l=g.color||!1,c=c+('<td class="cell_'+g.col+"_"+g.row+" "+("string"===typeof g.class?g.class:"")+'"'+(f?' data-prop="'+f+'"':"")+(h||l?' style="'+(h?"background-color:"+h+";":"")+(l?"color:"+l+";":"")+'"':"")+(g.colspan?' colSpan="'+g.colspan+'"':"")+(g.rowspan?' rowSpan="'+
g.rowspan+'"':"")+">"+(g.value||g.html||"")+"</td>");return'<tr class="row_'+b+'" rowy="'+b+'">'+c+"</tr>"},sa=function(a,b){if(void 0===a||null===a||!a.length)return"";for(var c="",d=0,e=a.length;d<e;d++)var g=a[d],f=g.col,h=g.bgcolor||!1,l=g.color||!1,c=c+('<th class="th_'+f+" "+("string"===typeof g.class?g.class:"")+'" name="column_'+f+'"'+(h||l?' style="'+(h?"background-color:"+h+";":"")+(l?"color:"+l+";":"")+'"':"")+">"+(g.value||g.html||"\u5355\u5143\u683c")+"</th>");c+=b?'<th class="th_gutter" style="width:'+
K+'px;"></th>':"";return"<tr>"+c+"</tr>"},ta=function(a,b){for(var c="",d=0,e=a.length;d<e;d++)c+=ha(a[d],d+1);return b?c:"<tbody>"+c+"</tbody>"},W=function(a,b){return void 0===b||null===b||""===b?"<table>"+a+"</table>":'<table style="'+b+'">'+a+"</table>"},ea=function(a){if(!a)return!1;if("string"===typeof a)for(var b=0,c=t.length;b<c;b++){var d=t[b];if(d.prop===a)return d}if("object"===typeof a)for(b=0,c=t.length;b<c;b++)if(d=t[b],d.type===a.type)return d;return!1},ia=function(a,b,c){if(t.length){var d=
[],e=C(a)&&a.length;c=oa(c,a);if(e&&b){b=0;for(var g=a.length;b<g;b++){var f=ea(a[b]);f&&!f.hidden&&(f=O(f,b+1,c),d.push(f))}return d}b=0;for(g=t.length;b<g;b++)f=t[b],f.hidden||e&&f.prop&&-1===a.indexOf(f.prop)||(f=O(f,b+1,c),d.push(f));return d}},ja=function(a,b,c){if(t.length){var d=[];c=c?Math.min(x.length,c):x.length;var e=C(a)&&a.length;if(e&&b){for(b=0;b<c;b++){for(var g=x[b],f=[],h=0,l=a.length;h<l;h++){var k=ea(a[h]);k&&!k.hidden&&(k=y(g,k,b+1,h+1),f.push(k))}d.push(f)}return d}for(b=0;b<
c;b++){g=x[b];f=[];h=0;for(l=t.length;h<l;h++)k=t[h],k.hidden||e&&k.prop&&-1===a.indexOf(k.prop)||(k=y(g,k,b+1,h+1),f.push(k));d.push(f)}return d}},p=[],w=[],ga=50,pa="",M="",P=[],B=[],z=[],A=0,Ga=function(a,b,c,d,e,g,f){q="scxxTable_"+U++;a.innerHTML=Q(q,b,c,d,e,g,f);ua(q);return q},ca={inited:!1,init:function(){this.inited||(ua(),this.inited=!0)},clear:function(){if(u.length){var a=m.getElementById(q),b=a.querySelector(".table_check_all"),a=a.querySelectorAll(".table_check");I(b,"click",wa);for(var b=
0,c=a.length;b<c;b++)I(a[b],"click",S);a=0;for(b=u.length;a<b;a++)c=u[a].previousSibling,I(c,"click",la),I(u[a],"click",ka),c=c.parentNode,I(c,"click",L);a=0;for(b=G.length;a<b;a++)c=G[a].previousSibling,I(c,"click",aa),c=c.parentNode,I(c,"click",L)}},rebind:function(){var a=m.getElementById(q);a.querySelector(".complex-table__header");var b=a.querySelector(".complex-table__body"),c=a.querySelector(".complex-table__body table");c.offsetWidth>b.offsetWidth?addClass(a,"with_xscroll"):removeClass(a,
"with_xscroll");c.offsetHeight>b.offsetHeight?addClass(a,"with_yscroll"):removeClass(a,"with_yscroll");c.offsetHeight<b.offsetHeight-1?addClass(a,"with_botline"):removeClass(a,"with_botline");a=m.querySelectorAll(".table_select");b=0;for(c=a.length;b<c;b++)n(a[b],"click",Z);if(0!==p.length)for(a=0,b=p.length;a<b;a++)c=m.querySelector("tr.row_"+(a+1)).querySelector(".table_check"),void 0!==p[a].disabled&&(c.disabled=p[a].disabled),void 0!==p[a].checked&&(c.checked=p[a].checked);if(Fa){a=m.querySelectorAll(".el-popover");
b=0;for(c=a.length;b<c;b++)J(a[b]);if(Fa&&0!==B.length){a=0;for(b=z.length;a<b;a++)z[a]&&clearTimeout(z[a]);a=0;for(b=B.length;a<b;a++)B[a]&&B[a].destroy();B=[];z=[];A=0}a=0;for(b=w.length;a<b;a++){var d=w[a];if(V(d.popover)&&V(d.prop)){var c=d.popover,e="",g=!1;"string"===typeof c?e=c:"function"===typeof c&&(g=!0);for(var d=m.querySelectorAll('td[data-prop="'+d.prop+'"]'),f=0,h=d.length;f<h;f++){addClass(d[f],"popover-cell");var l=m.createElement("div");if(g){var k=parseInt(d[f].parentNode.getAttribute("rowy"));
if(k=c(E(k)))l.innerHTML=k;else continue}else l.innerHTML=e;l.style.display="none";addClass(l,"el-popover");m.body.appendChild(l);d[f].style.cursor="help";l=new Popper(d[f],l,{placement:"auto-right",eventsEnabled:!1});l.popper.setAttribute("pop-idx",A);l.reference.setAttribute("pop-idx",A);n(l.popper,"mouseenter",X);n(l.reference,"mouseenter",X);n(l.popper,"mouseleave",Y);n(l.reference,"mouseleave",Y);B[A]=l;z[A]=null;A++}}}}else console.log("\u4e0d\u652f\u6301\u6d6e\u6846\u63d0\u793a");a=m.getElementById(q);
b=a.querySelector(".table_check_all");a=a.querySelectorAll(".table_check");n(b,"click",wa);b=0;for(c=a.length;b<c;b++)n(a[b],"click",S);u=m.querySelectorAll(".fold_root");G=m.querySelectorAll(".fold_sub");a=0;for(b=G.length;a<b;a++)c=G[a].parentNode,addClass(c,"fold_sub_row");F=[];a=0;for(b=u.length;a<b;a++)for(c=u[a].parentNode,addClass(c,"fold_root_row"),c.setAttribute("fold-row-index",a),c=c.nextSibling,F[a]=[];hasClass(c,"fold_sub_row");)c.setAttribute("fold-row-index",a),F[a].push(c),c=c.nextSibling;
a=0;for(b=u.length;a<b;a++)c=u[a].previousSibling,n(c,"click",la),n(u[a],"click",ka),c=c.parentNode,n(c,"click",L);a=0;for(b=G.length;a<b;a++)c=G[a].previousSibling,n(c,"click",aa),c=c.parentNode,n(c,"click",L);a=0;for(b=w.length;a<b;a++)Ia(w[a])}},E=function(a){if(C(a)){for(var b=[],c=0,d=a.length;c<d;c++)b.push(p[a[c]-1]);return b}return"number"===typeof a?p[a-1]:p},D=function(a){if("number"===typeof a)return za(a);a=m.querySelectorAll("tr.selected");for(var b=[],c=0,d=a.length;c<d;c++){var e=parseInt(a[c].getAttribute("rowy"),
10);b.push(e)}return E(b)};v.createSimpleTable=function(a,b,c,d,e,g,f){q="scxxTable_"+U;g=g||ia(b,!0,d);f=f||ja(b,!0,c);b="";c=c?Math.min(f.length,c):f.length;for(var h=0;h<c;h++)b+=ha(f[h],h+1);f="";if(d||e)d&&(f="width:"+d+"px;"),e&&(f+="height:"+e+"px;"),f='style="'+f+'"';a.innerHTML='<div id="'+q+'" class="table-wrapper" '+f+">"+W(sa(g)+b)+"</div>";a=m.getElementById(q);a.querySelector("table").offsetHeight<a.offsetHeight-2&&addClass(a,"with_botline");U++;return q};v.createComplexTable=Ga;v.createFixedColTable=
function(a,b,c,d,e,g,f,h){if(!a||!a.left&&!a.right)return Ga(b,c,d,e,g,f,h);q="scxxTable_"+U++;f=f||ia(c,!0,e);h=h||ja(c,!0,d);var l=a.left||0,k=a.right||0;if(l+k>=f.length)return!1;a=[];c=[];xa(f,l,k,a);Ha(h,l,k,c);e=Q(q,[],null,e,g,f,h);f=l?Q(q+"_left",[],null,null,g,a[0],c[0]):"";g=k?Q(q+"_right",[],null,null,g,a[1],c[1]):"";b.innerHTML='<div id="Wrapper_'+q+'" class="fixedcol-table">'+e+'<div class="fixedcol-table__left">'+f+'</div><div class="fixedcol-table__right">'+g+'</div><div class="fixed_right_patch"></div></div>';
b=m.getElementById("Wrapper_"+q);g=m.getElementById(q);e=l?m.getElementById(q+"_left"):0;f=k?m.getElementById(q+"_right"):0;var p=g.querySelector(".complex-table__header");h=l?e.querySelector(".complex-table__header"):0;a=k?f.querySelector(".complex-table__header"):0;c=g.querySelector(".complex-table__body");var r=l?e.querySelector(".complex-table__body"):0,t=k?f.querySelector(".complex-table__body"):0;d=g.querySelector(".complex-table__body table");n(c,"scroll",function(){p.scrollLeft=this.scrollLeft;
l&&(r.scrollTop=this.scrollTop);k&&(t.scrollTop=this.scrollTop)});d.offsetWidth>c.offsetWidth&&(addClass(g,"with_xscroll"),l&&(T(e,"height",-K+2),T(r,"height",-K+2)),k&&(T(f,"height",-K+2),T(t,"height",-K+2)));d.offsetHeight>c.offsetHeight?(addClass(g,"with_yscroll"),k&&(addClass(b,"with_yscroll_patch"),T(f.parentNode,"right",K))):J(p.querySelector(".th_gutter"));l&&J(h.querySelector(".th_gutter"));k&&J(a.querySelector(".th_gutter"));d.offsetHeight<c.offsetHeight-1&&(addClass(g,"with_botline"),l&&
addClass(e,"with_botline"),k&&addClass(f,"with_botline"));return q};v.createFoldTable=function(a,b,c,d,e,g,f,h){if(!f)if(t.length){f=da(c,!0);for(var l=oa(e-80,c),k=[O({type:"select",width:40},1,l),O({type:"fold",width:40},2,l)],m=0,n=f.length;m<n;m++){var p=O(f[m],m+3,l);k.push(p)}f=k}else f=void 0;h||(t.length?(h=w=da(c,!0),pa=a.parentProp,M=a.childrenProp,ga=d,h=fa(h)):h=void 0);q="scxxTable_"+U++;a="fold-table";l=!1;C(h)&&0!==h.length||(l=!0,a+=" is-empty");b.innerHTML=Q(q,c,d,e,g,f,h,a);l||(qa(h),
ra());return q};v.mergeCells=function(a){for(var b=[],c=[],d=0;d<a.length;d++){b.push(a[d]);var e=a[d].row,g=a[d].rowspan,f=a[d].colspan,h=a[d].prop,l;a:{for(var k=0;k<t.length;k++)if(t[k].prop==h){l=k;break a}l=!1}k=l+1;for(f=l+f;k<f;k++){l=e;for(var m=e+g;l<m;l++){var n={prop:t[k].prop,row:l};ba(c,n)||ba(a,n)||c.push(n)}}k=e+1;for(m=e+g;k<m;k++)n={prop:h,row:k},ba(c,n)||ba(a,n)||c.push(n)}for(a=0;a<b.length;a++)d=b[a],e=Da(d),e.rowSpan=d.rowspan,e.colSpan=d.colspan,addClass(e,"merged");for(a=0;a<
c.length;a++)d=c[a],e=Da(d),addClass(e,"hidden")};v.updateTableWidth=function(a,b){m.getElementById(a).style.width=b+"px"};v.updateTableHeight=function(a,b){m.getElementById(a).style.height=b+"px"};v.getSelectedRows=D;v.tableEventHandler=r;v.updateFoldTable=function(a,b){var c=m.querySelector(".fold-table");if(C(a)&&0!==a.length){removeClass(c,"is-empty");ca.clear();p=[];H=a;a=M;for(var c=m.querySelector(".complex-table__body").offsetHeight,c=La=Math.ceil(c/25),d=b=0,e=H.length;d<e&&!(b+=H[d][a].length+
1,b>c);d++);N=d+1;x=H.slice(0,N);c=fa();b=ta(c,!0);a=m.querySelector(".complex-table__body table");d=a.lastChild;e=m.createElement("tbody");e.innerHTML=b;a.replaceChild(e,d);ca.init();ca.rebind();qa(c);ra();Ea();Ca()}else b&&(ca.clear(),a=m.querySelector(".complex-table__body table tbody"),a.innerHTML="",addClass(c,"is-empty")),p=[],H=[],N=0,x=[],u=[],G=[],Ea()};v.updateFoldTableSubRows=function(a,b,c){if(C(c)&&C(c[0][M])){var d=b-1;if(void 0!==c[0].disabled||void 0!==c[0].checked){p[d].disabled=
c[0].disabled;var d=m.querySelector('tr[rowy="'+b+'"]'),e=d.querySelector(".table_check");e.checked=c[0].checked||!1;e.disabled=c[0].disabled||!1;e.checked?addClass(d,"selected"):removeClass(d,"selected")}b++;e=c[0][M];c=m.querySelectorAll('.fold_sub_row[fold-row-index="'+a+'"]');for(var g=w,d=[],f=b||1,h=1,l=0,k=e.length;l<k;l++){for(var n=e[l],q=[y(n,{type:"select",align:"center",width:40},f,h++),y(n,{type:"fold",align:"center",class:"fold_sub",index:l+1,width:40},f,h++)],r=0,t=g.length;r<t;r++){var u=
y(n,g[r],f,h++);q.push(u)}d.push(q);h=f-1;void 0!==p[h].checked&&void 0===n.checked&&(n.checked=p[h].checked);p.splice(h,1,n);console.log("new tableRows["+h+"]",p[h]);f++;h=1}F[a]=[];e=0;for(g=d.length;e<g;e++)if(f=Ba(d[e],b))c[0].parentNode.insertBefore(f,c[0]),F[a].push(f),Ka(f,a,b++);e=0;for(g=c.length;e<g;e++)J(c[e])}};v.showTableLoading=function(){m.getElementById("tableLoadingSpinner").style.display="block"};v.hideTableLoading=na;v.enableDragSetColWidth=function(){for(var a=m.querySelectorAll(".complex-table__header th:not(.th_gutter)"),
b=!1,c,d,e,g="",f=function(a){var f=this.offsetParent.getBoundingClientRect().left,h=this.getBoundingClientRect(),l=h.left-f+30,k=m.querySelector(".resize-proxy");b=!0;removeClass(k,"hidden");m.onselectstart=function(){return!1};m.ondragstart=function(){return!1};c=a.clientX;d=h.right-f;e=h.left-f;var n=function(a){k.style.left=Math.max(l,d+(a.clientX-c))+"px"},p=function(){if(b){for(var a=e,a=parseInt(k.style.left,10)-a,f=m.querySelectorAll("col[name="+g+"]"),h=0;h<f.length;h++)f[h].width=a;m.body.style.cursor=
"";b=!1;addClass(k,"hidden");e=d=c=void 0}m.removeEventListener("mousemove",n);m.removeEventListener("mouseup",p);m.onselectstart=null;m.ondragstart=null};m.addEventListener("mousemove",n);m.addEventListener("mouseup",p)},h=function(a){var c=a.target.getAttribute("name"),d=a.target;b||(g=c,c=d.getBoundingClientRect(),d=m.body.style,12<c.width&&8>c.right-a.pageX?d.cursor="col-resize":b||(d.cursor=""))},l=function(){b||(m.body.style.cursor="")},k=0,p=a.length;k<p;k++){var q=a[k];n(q,"mousemove",h);
n(q,"mousedown",f);n(q,"mouseout",l)}};v.loadRows=function(a){x=a||[]};v.initTable=function(a,b){t=a;x=b||[]};window.ScxxTable=v})();