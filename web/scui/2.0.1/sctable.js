(function(){function R(a){return void 0!==a&&null!==a}function r(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,function(b){return c.call(a,b)}):a["on"+b]=c}function G(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function ha(a){return'<div id="tableLoadingSpinner" class="el-loading-mask" style="display:none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">'+
(a||"\u6570\u636e\u52a0\u8f7d\u4e2d...")+"</p></div></div>"}function ia(){m.getElementById("tableLoadingSpinner").style.display="none"}function B(a){return"[object array]"===Object.prototype.toString.call(a).toLowerCase()}function K(a,b,c){var d={};d.col=b;a.prop&&(d.prop=a.prop);"select"===a.type?(d.html='<label><input class="table_check_all" name="'+n+'_selectall" type="checkbox"></label>',d.class="table_select_all"):d.value=a.label||"#";var e;a.labelStyle&&(b=a.labelStyle["background-color"]||
a.labelStyle.backgroundColor||"",e=a.labelStyle.color||"",b&&(d.bgcolor=b),e&&(d.color=e));d.width=a.width||c||100;return d}function w(a,b,c,d){var e={};e.row=c;e.col=d;b.prop&&(e.prop=b.prop);"select"===b.type?(e.html='<label><input class="table_check" name="'+n+'_select[]" type="checkbox"></label>',e.class="table_select"):"index"===b.type?e.value=c:"fold"===b.type?"fold_root"===b.class?e.html='<span class="el-icon-arrow-down"></span><span class="el-icon-arrow-right"></span>':e.value=b.index:b.template?
e.html="function"===typeof b.template?b.template(a):"string"===typeof b.template?b.template:typeof b.template:e.value=b.prop&&a[b.prop]?a[b.prop]:"string"===typeof b.emptyText?b.emptyText:"-";b.cellStyle&&(a=b.cellStyle["background-color"]||b.cellStyle.backgroundColor||"",c=b.cellStyle.color||"",a&&(e.bgcolor=a),c&&(e.color=c));b.class&&(e.class=b.class);b.rowspan&&(e.rowspan=b.rowspan);b.colspan&&(e.colspan=b.colspan);b.align&&("left"===b.align?e.class=e.class?e.class+" left":"left":"right"===b.align?
e.class=e.class?e.class+" right":"right":"center"===b.align&&(e.class=e.class?e.class+" center":"center"));return e}function ja(a,b){var c=0,d=0,e=0;b=Y(b);for(var f=0,g=b.length;f<g;f++){var h=b[f];h&&!h.hidden&&(d++,"number"===typeof h.width&&0<h.width&&(e++,c+=h.width))}if(d<=e)return 100;d-=e;a-=c;0<a?(c=parseInt(a/d,10),console.log("\u53ef\u7528\u5bbd\u5ea6\u6709\u4f59")):(c=parseInt(c/e,10),console.log("\u65e0\u53ef\u7528\u5bbd\u5ea6"));return 100<c?c:100}function Y(a,b){if(!t.length)return[];
var c=[],d=B(a)&&a.length;if(d&&b){b=0;for(var e=a.length;b<e;b++){var f=Z(a[b]);f&&!f.hidden&&c.push(f)}return c}b=0;for(e=t.length;b<e;b++)f=t[b],f.hidden||d&&f.prop&&-1===a.indexOf(f.prop)||c.push(f);return c}function ka(a,b){a=a||x;b=b||C;var c=[],d=aa?Math.min(b.length,aa):b.length;p=[];for(var e=la,f=S,g=1,h=1,l=0;l<d;l++){var k=b[l],m=k[f],h=[w(k,{type:"select",align:"center",width:40},g,h++),w(k,{type:"fold",align:"center",class:"fold_root",width:40},g,h++),w(k,{prop:e,colspan:a.length},g,
h++)];c.push(h);g++;h=1;p.push(k);for(var n=0,r=m.length;n<r;n++){for(var k=m[n],q=[w(k,{type:"select",align:"center",width:40},g,h++),w(k,{type:"fold",align:"center",class:"fold_sub",index:n+1,width:40},g,h++)],t=0,u=a.length;t<u;t++){var v=w(k,a[t],g,h++);q.push(v)}c.push(q);g++;h=1;p.push(k)}}return c}function Aa(a,b){var c=x,d=[];b=b||1;for(var e=1,f=0,g=a.length;f<g;f++){for(var h=a[f],l=[w(h,{type:"select",align:"center",width:40},b,e++),w(h,{type:"fold",align:"center",class:"fold_sub",index:f+
1,width:40},b,e++)],k=0,m=c.length;k<m;k++){var n=w(h,c[k],b,e++);l.push(n)}d.push(l);e=b-1;void 0!==p[e].checked&&void 0===h.checked&&(h.checked=p[e].checked);console.log("tableRows["+e+"]",p[e]);console.log("row",h);p.splice(e,1,h);console.log("new tableRows["+e+"]",p[e]);b++;e=1}return d}function ma(a){var b=m.createElement("div"),c="";addClass(b,"table-wrapper");for(var d=0,e=a.length;d<e;d++)c+=ba(a[d],d+1);b.innerHTML=T(c);m.body.appendChild(b);a=b.querySelectorAll('tr[rowy="2"] td');L=[];d=
0;for(e=a.length;d<e;d++)L.push(a[d].offsetWidth);H(b)}function na(){if(L&&0!==L.length)for(var a=0,b=x.length;a<b;a++){var c=x[a];if(void 0===c.width||!c.width)for(var c=m.querySelectorAll('col[name="column_'+(a+3)+'"]'),d=parseInt(c[0].getAttribute("width"),10),e=L[a+2],d=d>e?d:e,e=0,f=c.length;e<f;e++)c[e].setAttribute("width",d)}}function H(a){var b=a.parentNode;b&&b.removeChild(a)}function M(a,b,c,d,e,f,g,h){f=f||ca(b,!0,d);g=g||da(b,!0,c);b=[];c="";for(var l=0,k=0;k<f.length;k++)c+='<col name="column_'+
(k+1)+'" width="'+f[k].width+'" />',l+=f[k].width;c+="";B(b)&&(b[0]=l,b[1]=l+I);c="<colgroup>"+c+"</colgroup>";f=T(c+("<thead>"+oa(f,!0)+"</thead>"),"width:"+b[0]+"px;");g=T(c+ea(g),"width:"+b[0]+"px;");b="";if(d||e)"number"===typeof d?b="width:"+d+"px;":"string"===typeof d&&-1!==d.indexOf("%")&&(b="width:"+d+";"),e&&(b+="height:"+e+"px;"),b='style="'+b+'"';e?(d=m.createElement("div"),d.innerHTML='<div class="table-wrapper complex-table" '+b+'><div class="complex-table__header">'+f+"</div></div>",
m.body.appendChild(d),c=d.querySelector(".complex-table__header").offsetHeight,e='style="height:'+(e-c)+'px;"',H(d),a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+f+'</div><div class="complex-table__body" '+e+">"+g+"</div>"+ha()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div></div>'):a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+f+'</div><div class="complex-table__body">'+
g+"</div>"+ha()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div></div>';return a}function U(){var a=parseInt(this.getAttribute("pop-idx"),10);y[a]&&clearTimeout(y[a]);A[a].update();A[a].popper.style.display="block"}function V(){var a=parseInt(this.getAttribute("pop-idx"),10);y[a]&&clearTimeout(y[a]);y[a]=setTimeout(function(){A[a].popper.style.display="none"},100)}function pa(){var a=m.getElementById(n),b=a.querySelector(".complex-table__header"),a=a.querySelector(".complex-table__body");
r(a,"scroll",function(){b.scrollLeft=this.scrollLeft})}function N(a){var b=a.parentNode.parentNode.parentNode;a.checked?addClass(b,"selected"):removeClass(b,"selected")}function qa(){for(var a=m.querySelectorAll(".fold_root"),b=this.checked,c=0,d=a.length;c<d;c++){var e=a[c].previousSibling.querySelector(".table_check");e.checked!==b&&e.click()}if(q.onClickCheckAll)q.onClickCheckAll(b,D())}function fa(){var a=m.querySelector(".table_check_all");if(!this.checked&&(a.checked=!1,N(a),q.onSelect))q.onSelect(D());
N(this);a=parseInt(this.parentNode.parentNode.parentNode.getAttribute("rowy"),10);if(q.onSelect)q.onSelect(D());if(q.onClickCheck)q.onClickCheck(E(a),a,this.checked);p[a-1].checked=this.checked}function ra(a,b,c,d){d[0]=0;d[1]=0;d[2]=0;var e=a.length;b&&(d[0]=a.slice(0,b));c&&(d[1]=a.slice(e-c))}function Ba(a,b,c,d){for(var e=[],f=[],g=0,h=a.length;g<h;g++){var l=[];ra(a[g],b,c,l);e[g]=l[0];f[g]=l[1]}d[0]=e;d[1]=f}function O(a,b,c){var d=a.style[b]||"0px",d=d.slice(0,d.indexOf("px"));c=parseInt(d)+
c;a.style[b]=c+"px"}function sa(a){a.stopPropagation()}function Ca(a){if(a.prop&&a.onClick)for(var b=m.querySelectorAll('td[data-prop="'+a.prop+'"]'),c=0,d=b.length;c<d;c++)b[c].style.cursor="pointer",r(b[c],"click",function(b){b.stopPropagation();b=this.parentNode.getAttribute("rowy");a.onClick.call(this,p[b-1])})}function P(){this.querySelector(".table_check").click()}function ta(a,b){a=J[a];for(var c=0,d=a.length;c<d;c++)a[c].style.display=b}function ua(a){a.stopPropagation();a=this.parentNode;
var b=parseInt(a.getAttribute("fold-row-index"),10);hasClass(a,"closed")?(ta(b,"table-row"),removeClass(a,"closed")):(ta(b,"none"),addClass(a,"closed"));if(q.onClickFoldRoot){var c=parseInt(a.getAttribute("rowy"));q.onClickFoldRoot(hasClass(a,"closed"),E(c),va(b),b,c,this.nextSibling)}}function wa(){for(var a=parseInt(this.parentNode.getAttribute("fold-row-index"),10),a=J[a],b=this.querySelector(".table_check").checked,c=0,d=a.length;c<d;c++){var e=a[c].querySelector(".table_check");e.disabled||(e.checked=
b,N(e))}if(q.onSelect)q.onSelect(D());q.onClickRootRow&&(a=this.querySelector(".table_check"),b=this.parentNode,c=parseInt(b.getAttribute("fold-row-index"),10),d=v[c].nextSibling,e=parseInt(b.getAttribute("rowy"),10),q.onClickRootRow(E(e),e,a.checked,hasClass(b,"closed"),D(c),d))}function ga(){var a=this.querySelector(".table_check").checked,b=parseInt(this.parentNode.getAttribute("fold-row-index"),10),c=v[b].previousSibling.querySelector(".table_check");if(a){a=m.querySelector('.fold_root_row[fold-row-index="'+
b+'"]').nextSibling;for(b=!0;hasClass(a,"fold_sub_row");){var d=a.querySelector(".table_check");if(!d.disabled&&!d.checked){b=!1;break}a=a.nextSibling}if(b&&!c.checked&&(c.checked=!0,N(c),q.onSelect))q.onSelect(D())}else if(c.checked&&(c.checked=!1,N(c),q.onSelect))q.onSelect(D());if(q.onClickSubRow){var c=this.querySelector(".table_check"),e=this.parentNode,a=parseInt(e.getAttribute("fold-row-index"),10),b=v[a].nextSibling,d=parseInt(v[a].parentNode.getAttribute("rowy"),10),e=parseInt(e.getAttribute("rowy"),
10);q.onClickSubRow(E(e),e,c.checked,E(d),D(a),b)}}function Da(a,b){if(R(b.popover)&&R(b.prop)){var c=b.popover,d="",e=!1;"string"===typeof c?d=c:"function"===typeof c&&(e=!0);b=a.querySelector('td[data-prop="'+b.prop+'"]');addClass(b,"popover-cell");var f=m.createElement("div");if(e)if(a=parseInt(a.getAttribute("rowy")),c=c(E(a)))f.innerHTML=c;else return;else f.innerHTML=d;f.style.display="none";addClass(f,"el-popover");m.body.appendChild(f);b.style.cursor="help";c=new Popper(b,f,{placement:"auto-right",
eventsEnabled:!1});c.popper.setAttribute("pop-idx",z);c.reference.setAttribute("pop-idx",z);r(c.popper,"mouseenter",U);r(c.reference,"mouseenter",U);r(c.popper,"mouseleave",V);r(c.reference,"mouseleave",V);A[z]=c;y[z]=null;z++}}function Ea(a,b,c){addClass(a,"fold_sub_row");a.setAttribute("fold-row-index",b);b=a.querySelector(".table_select");r(b,"click",sa);var d=a.querySelector(".table_check");--c;void 0!==p[c].disabled&&(d.disabled=p[c].disabled);void 0!==p[c].checked&&(c=p[c].checked,(d.checked=
c)&&addClass(a,"selected"));d=0;for(c=x.length;d<c;d++){var e=x[d];Da(a,e);if(e.prop&&e.onClick){var f=a.querySelector('td[data-prop="'+e.prop+'"]');f.style.cursor="pointer";r(f,"click",function(a){a.stopPropagation();a=this.parentNode.getAttribute("rowy");e.onClick.call(this,p[a-1])})}}r(b.querySelector(".table_check"),"click",fa);r(b,"click",ga);r(a,"click",P)}function va(a){a=m.querySelector('.fold_root_row[fold-row-index="'+a+'"]').nextSibling;for(var b=[];hasClass(a,"fold_sub_row");){if(a.querySelector(".table_check").checked){var c=
parseInt(a.getAttribute("rowy"),10);b.push(E(c))}a=a.nextSibling}return b}function W(a,b){for(var c=0;c<a.length;c++)if(a[c].prop==b.prop&&a[c].row==b.row)return!0;return!1}function xa(a){return m.querySelectorAll("tbody tr")[a.row-1].querySelector("[data-prop="+a.prop+"]")}var ya="undefined"!==typeof Popper,n="",u={version:"1.0.0"},t=[],C=[],Q=1,m=window.document,q={onSelect:null,onClickCheck:null,onClickRootRow:null,onClickSubRow:null,onClickFoldRoot:null,onClickCheckAll:null},I=function(){var a=
m.createElement("div");a.style.overflow="scroll";a.style.visibility="hidden";a.style.width="100px";a.style.position="absolute";a.style.top="-9999px";m.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=m.createElement("div");c.style.width="100%";a.appendChild(c);c=c.offsetWidth;a.parentNode.removeChild(a);scrollBarWidth=b-c;return scrollBarWidth+1}(),ba=function(a,b){if(void 0===a||null===a||!a.length)return"";b=b||1;for(var c="",d=0,e=a.length;d<e;d++)var f=a[d],g=f.prop||!1,
h=f.bgcolor||!1,l=f.color||!1,c=c+('<td class="cell_'+f.col+"_"+f.row+" "+("string"===typeof f.class?f.class:"")+'"'+(g?' data-prop="'+g+'"':"")+(h||l?' style="'+(h?"background-color:"+h+";":"")+(l?"color:"+l+";":"")+'"':"")+(f.colspan?' colSpan="'+f.colspan+'"':"")+(f.rowspan?' rowSpan="'+f.rowspan+'"':"")+">"+(f.value||f.html||"")+"</td>");return'<tr class="row_'+b+'" rowy="'+b+'">'+c+"</tr>"},oa=function(a,b){if(void 0===a||null===a||!a.length)return"";for(var c="",d=0,e=a.length;d<e;d++)var f=
a[d],g=f.bgcolor||!1,h=f.color||!1,c=c+('<th class="th_'+f.col+" "+("string"===typeof f.class?f.class:"")+'"'+(g||h?' style="'+(g?"background-color:"+g+";":"")+(h?"color:"+h+";":"")+'"':"")+">"+(f.value||f.html||"\u5355\u5143\u683c")+"</th>");c+=b?'<th class="th_gutter" style="width:'+I+'px;"></th>':"";return"<tr>"+c+"</tr>"},ea=function(a,b){for(var c="",d=0,e=a.length;d<e;d++)c+=ba(a[d],d+1);return b?c:"<tbody>"+c+"</tbody>"},T=function(a,b){return void 0===b||null===b||""===b?"<table>"+a+"</table>":
'<table style="'+b+'">'+a+"</table>"},Z=function(a){if(!a)return!1;if("string"===typeof a)for(var b=0,c=t.length;b<c;b++){var d=t[b];if(d.prop===a)return d}if("object"===typeof a)for(b=0,c=t.length;b<c;b++)if(d=t[b],d.type===a.type)return d;return!1},ca=function(a,b,c){if(t.length){var d=[],e=B(a)&&a.length;c=ja(c,a);if(e&&b){b=0;for(var f=a.length;b<f;b++){var g=Z(a[b]);g&&!g.hidden&&(g=K(g,b+1,c),d.push(g))}return d}b=0;for(f=t.length;b<f;b++)g=t[b],g.hidden||e&&g.prop&&-1===a.indexOf(g.prop)||
(g=K(g,b+1,c),d.push(g));return d}},da=function(a,b,c){if(t.length){var d=[];c=c?Math.min(C.length,c):C.length;var e=B(a)&&a.length;if(e&&b){for(b=0;b<c;b++){for(var f=C[b],g=[],h=0,l=a.length;h<l;h++){var k=Z(a[h]);k&&!k.hidden&&(k=w(f,k,b+1,h+1),g.push(k))}d.push(g)}return d}for(b=0;b<c;b++){f=C[b];g=[];h=0;for(l=t.length;h<l;h++)k=t[h],k.hidden||e&&k.prop&&-1===a.indexOf(k.prop)||(k=w(f,k,b+1,h+1),g.push(k));d.push(g)}return d}},p=[],x=[],aa=50,la="",S="",L=[],A=[],y=[],z=0,za=function(a,b,c,d,
e,f,g){n="scxxTable_"+Q++;a.innerHTML=M(n,b,c,d,e,f,g);pa(n);return n},v=[],F=[],J=[],X={inited:!1,init:function(){this.inited||(pa(),this.inited=!0)},clear:function(){if(v.length){var a=m.getElementById(n),b=a.querySelector(".table_check_all"),a=a.querySelectorAll(".table_check");G(b,"click",qa);for(var b=0,c=a.length;b<c;b++)G(a[b],"click",fa);a=0;for(b=v.length;a<b;a++)c=v[a].previousSibling,G(c,"click",wa),G(v[a],"click",ua),c=c.parentNode,G(c,"click",P);a=0;for(b=F.length;a<b;a++)c=F[a].previousSibling,
G(c,"click",ga),c=c.parentNode,G(c,"click",P)}},rebind:function(){var a=m.getElementById(n);a.querySelector(".complex-table__header");var b=a.querySelector(".complex-table__body"),c=a.querySelector(".complex-table__body table");c.offsetWidth>b.offsetWidth?addClass(a,"with_xscroll"):removeClass(a,"with_xscroll");c.offsetHeight>b.offsetHeight?addClass(a,"with_yscroll"):removeClass(a,"with_yscroll");c.offsetHeight<b.offsetHeight-1?addClass(a,"with_botline"):removeClass(a,"with_botline");a=m.querySelectorAll(".table_select");
b=0;for(c=a.length;b<c;b++)r(a[b],"click",sa);if(0!==p.length)for(a=0,b=p.length;a<b;a++)c=m.querySelector("tr.row_"+(a+1)).querySelector(".table_check"),void 0!==p[a].disabled&&(c.disabled=p[a].disabled),void 0!==p[a].checked&&(c.checked=p[a].checked);if(ya){a=m.querySelectorAll(".el-popover");b=0;for(c=a.length;b<c;b++)H(a[b]);if(ya&&0!==A.length){a=0;for(b=y.length;a<b;a++)y[a]&&clearTimeout(y[a]);a=0;for(b=A.length;a<b;a++)A[a]&&A[a].destroy();A=[];y=[];z=0}a=0;for(b=x.length;a<b;a++){var d=x[a];
if(R(d.popover)&&R(d.prop)){var c=d.popover,e="",f=!1;"string"===typeof c?e=c:"function"===typeof c&&(f=!0);for(var d=m.querySelectorAll('td[data-prop="'+d.prop+'"]'),g=0,h=d.length;g<h;g++){addClass(d[g],"popover-cell");var l=m.createElement("div");if(f){var k=parseInt(d[g].parentNode.getAttribute("rowy"));if(k=c(E(k)))l.innerHTML=k;else continue}else l.innerHTML=e;l.style.display="none";addClass(l,"el-popover");m.body.appendChild(l);d[g].style.cursor="help";l=new Popper(d[g],l,{placement:"auto-right",
eventsEnabled:!1});l.popper.setAttribute("pop-idx",z);l.reference.setAttribute("pop-idx",z);r(l.popper,"mouseenter",U);r(l.reference,"mouseenter",U);r(l.popper,"mouseleave",V);r(l.reference,"mouseleave",V);A[z]=l;y[z]=null;z++}}}}else console.log("\u4e0d\u652f\u6301\u6d6e\u6846\u63d0\u793a");a=m.getElementById(n);b=a.querySelector(".table_check_all");a=a.querySelectorAll(".table_check");r(b,"click",qa);b=0;for(c=a.length;b<c;b++)r(a[b],"click",fa);v=m.querySelectorAll(".fold_root");F=m.querySelectorAll(".fold_sub");
a=0;for(b=F.length;a<b;a++)c=F[a].parentNode,addClass(c,"fold_sub_row");J=[];a=0;for(b=v.length;a<b;a++)for(c=v[a].parentNode,addClass(c,"fold_root_row"),c.setAttribute("fold-row-index",a),c=c.nextSibling,J[a]=[];hasClass(c,"fold_sub_row");)c.setAttribute("fold-row-index",a),J[a].push(c),c=c.nextSibling;a=0;for(b=v.length;a<b;a++)c=v[a].previousSibling,r(c,"click",wa),r(v[a],"click",ua),c=c.parentNode,r(c,"click",P);a=0;for(b=F.length;a<b;a++)c=F[a].previousSibling,r(c,"click",ga),c=c.parentNode,
r(c,"click",P);a=0;for(b=x.length;a<b;a++)Ca(x[a])}},E=function(a){if(B(a)){for(var b=[],c=0,d=a.length;c<d;c++)b.push(p[a[c]-1]);return b}return"number"===typeof a?p[a-1]:p},D=function(a){if("number"===typeof a)return va(a);a=m.querySelectorAll("tr.selected");for(var b=[],c=0,d=a.length;c<d;c++){var e=parseInt(a[c].getAttribute("rowy"),10);b.push(e)}return E(b)};u.createSimpleTable=function(a,b,c,d,e,f,g){n="scxxTable_"+Q;f=f||ca(b,!0,d);g=g||da(b,!0,c);b="";c=c?Math.min(g.length,c):g.length;for(var h=
0;h<c;h++)b+=ba(g[h],h+1);g="";if(d||e)d&&(g="width:"+d+"px;"),e&&(g+="height:"+e+"px;"),g='style="'+g+'"';a.innerHTML='<div id="'+n+'" class="table-wrapper" '+g+">"+T(oa(f)+b)+"</div>";a=m.getElementById(n);a.querySelector("table").offsetHeight<a.offsetHeight-2&&addClass(a,"with_botline");Q++;return n};u.createComplexTable=za;u.createFixedColTable=function(a,b,c,d,e,f,g,h){if(!a||!a.left&&!a.right)return za(b,c,d,e,f,g,h);n="scxxTable_"+Q++;g=g||ca(c,!0,e);h=h||da(c,!0,d);var l=a.left||0,k=a.right||
0;if(l+k>=g.length)return!1;a=[];c=[];ra(g,l,k,a);Ba(h,l,k,c);e=M(n,[],null,e,f,g,h);g=l?M(n+"_left",[],null,null,f,a[0],c[0]):"";f=k?M(n+"_right",[],null,null,f,a[1],c[1]):"";b.innerHTML='<div id="Wrapper_'+n+'" class="fixedcol-table">'+e+'<div class="fixedcol-table__left">'+g+'</div><div class="fixedcol-table__right">'+f+'</div><div class="fixed_right_patch"></div></div>';b=m.getElementById("Wrapper_"+n);f=m.getElementById(n);e=l?m.getElementById(n+"_left"):0;g=k?m.getElementById(n+"_right"):0;
var p=f.querySelector(".complex-table__header");h=l?e.querySelector(".complex-table__header"):0;a=k?g.querySelector(".complex-table__header"):0;c=f.querySelector(".complex-table__body");var q=l?e.querySelector(".complex-table__body"):0,t=k?g.querySelector(".complex-table__body"):0;d=f.querySelector(".complex-table__body table");r(c,"scroll",function(){p.scrollLeft=this.scrollLeft;l&&(q.scrollTop=this.scrollTop);k&&(t.scrollTop=this.scrollTop)});d.offsetWidth>c.offsetWidth&&(addClass(f,"with_xscroll"),
l&&(O(e,"height",-I+2),O(q,"height",-I+2)),k&&(O(g,"height",-I+2),O(t,"height",-I+2)));d.offsetHeight>c.offsetHeight?(addClass(f,"with_yscroll"),k&&(addClass(b,"with_yscroll_patch"),O(g.parentNode,"right",I))):H(p.querySelector(".th_gutter"));l&&H(h.querySelector(".th_gutter"));k&&H(a.querySelector(".th_gutter"));d.offsetHeight<c.offsetHeight-1&&(addClass(f,"with_botline"),l&&addClass(e,"with_botline"),k&&addClass(g,"with_botline"));return n};u.createFoldTable=function(a,b,c,d,e,f,g,h){if(!g)if(t.length){g=
Y(c,!0);for(var l=ja(e-80,c),k=[K({type:"select",width:40},1,l),K({type:"fold",width:40},2,l)],m=0,p=g.length;m<p;m++){var q=K(g[m],m+3,l);k.push(q)}g=k}else g=void 0;h||(t.length?(h=x=Y(c,!0),la=a.parentProp,S=a.childrenProp,aa=d,h=ka(h)):h=void 0);n="scxxTable_"+Q++;a="fold-table";l=!1;B(h)&&0!==h.length||(l=!0,a+=" is-empty");b.innerHTML=M(n,c,d,e,f,g,h,a);l||(ma(h),na());return n};u.mergeCells=function(a){for(var b=[],c=[],d=0;d<a.length;d++){b.push(a[d]);var e=a[d].row,f=a[d].rowspan,g=a[d].colspan,
h=a[d].prop,l;a:{for(var k=0;k<t.length;k++)if(t[k].prop==h){l=k;break a}l=!1}k=l+1;for(g=l+g;k<g;k++){l=e;for(var m=e+f;l<m;l++){var n={prop:t[k].prop,row:l};W(c,n)||W(a,n)||c.push(n)}}k=e+1;for(m=e+f;k<m;k++)n={prop:h,row:k},W(c,n)||W(a,n)||c.push(n)}for(a=0;a<b.length;a++)d=b[a],e=xa(d),e.rowSpan=d.rowspan,e.colSpan=d.colspan,addClass(e,"merged");for(a=0;a<c.length;a++)d=c[a],e=xa(d),addClass(e,"hidden")};u.updateTableWidth=function(a,b){m.getElementById(a).style.width=b+"px"};u.updateTableHeight=
function(a,b){m.getElementById(a).style.height=b+"px"};u.getSelectedRows=D;u.tableEventHandler=q;u.updateFoldTable=function(a,b){var c=m.querySelector(".fold-table");if(B(a)&&0!==a.length){removeClass(c,"is-empty");X.clear();C=a;c=ka();b=ea(c,!0);a=m.querySelector(".complex-table__body table");var d=a.lastChild,e=m.createElement("tbody");e.innerHTML=b;a.replaceChild(e,d);X.init();X.rebind();ma(c);na()}else b&&(X.clear(),a=m.querySelector(".complex-table__body table tbody"),a.innerHTML="",addClass(c,
"is-empty")),p=[],C=[],v=[],F=[];ia()};u.updateFoldTableSubRows=function(a,b,c){function d(a,b){function c(a){var b=a.col,c=a.row,d=a.prop||!1,e=a.value||a.html||"-",f="string"===typeof a.class?a.class:"",g=m.createElement("td");g.innerHTML=e;g.setAttribute("data-prop",d);addClass(g,"cell_"+b+"_"+c+" "+f);a.rowspan&&(g.rowSpan=a.rowspan);a.colspan&&(g.colSpan=a.colspan);a.color&&(g.style.color=a.color);a.bgcolor&&(g.style.backgroundColor=a.bgcolor);return g}var d=m.createElement("tr");if(void 0!==
a&&null!==a&&a.length){b=b||1;for(var e=0,f=a.length;e<f;e++)d.appendChild(c(a[e]));d.setAttribute("rowy",b);addClass(d,"row_"+b);return d}}if(B(c)&&B(c[0][S])){var e=b-1;if(void 0!==c[0].disabled||void 0!==c[0].checked){p[e].disabled=c[0].disabled;var e=m.querySelector('tr[rowy="'+b+'"]'),f=e.querySelector(".table_check");f.checked=c[0].checked||!1;f.disabled=c[0].disabled||!1;f.checked?addClass(e,"selected"):removeClass(e,"selected")}b++;e=c[0][S];c=m.querySelectorAll('.fold_sub_row[fold-row-index="'+
a+'"]');e=Aa(e,b);ea(e,!0);J[a]=[];for(var f=0,g=e.length;f<g;f++){var h=d(e[f],b);h&&(c[0].parentNode.insertBefore(h,c[0]),J[a].push(h),Ea(h,a,b++))}f=0;for(g=c.length;f<g;f++)H(c[f])}};u.showTableLoading=function(){m.getElementById("tableLoadingSpinner").style.display="block"};u.hideTableLoading=ia;u.loadRows=function(a){C=a||[]};u.initTable=function(a,b){t=a;C=b||[]};window.ScxxTable=u})();