(function(){function W(a){return void 0!==a&&null!==a}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,function(b){return c.call(a,b)}):a["on"+b]=c}function I(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function na(a){return'<div id="tableLoadingSpinner" class="el-loading-mask" style="display:none;"><div class="el-loading-spinner"><svg viewBox="25 25 50 50" class="circular"><circle cx="50" cy="50" r="20" fill="none" class="path"></circle></svg><p class="el-loading-text">'+
(a||"\u6570\u636e\u52a0\u8f7d\u4e2d...")+"</p></div></div>"}function oa(){m.getElementById("tableLoadingSpinner").style.display="none"}function D(a){return"[object array]"===Object.prototype.toString.call(a).toLowerCase()}function O(a,b,c){var d={};d.col=b;a.prop&&(d.prop=a.prop);"select"===a.type?(d.html='<label><input class="table_check_all" name="'+p+'_selectall" type="checkbox"></label>',d.class="table_select_all"):d.value=a.label||"#";var e;a.labelStyle&&(b=a.labelStyle["background-color"]||
a.labelStyle.backgroundColor||"",e=a.labelStyle.color||"",b&&(d.bgcolor=b),e&&(d.color=e));d.width=a.width||c||100;return d}function y(a,b,c,d){var e={};e.row=c;e.col=d;b.prop&&(e.prop=b.prop);"select"===b.type?(e.html='<label><input class="table_check" name="'+p+'_select[]" type="checkbox"></label>',e.class="table_select"):"index"===b.type?e.value=c:"fold"===b.type?"fold_root"===b.class?e.html='<span class="el-icon-arrow-down"></span><span class="el-icon-arrow-right"></span>':e.value=b.index:b.template?
e.html="function"===typeof b.template?b.template(a):"string"===typeof b.template?b.template:typeof b.template:e.value=b.prop&&a[b.prop]?a[b.prop]:"string"===typeof b.emptyText?b.emptyText:"-";b.cellStyle&&(a=b.cellStyle["background-color"]||b.cellStyle.backgroundColor||"",c=b.cellStyle.color||"",a&&(e.bgcolor=a),c&&(e.color=c));b.class&&(e.class=b.class);b.rowspan&&(e.rowspan=b.rowspan);b.colspan&&(e.colspan=b.colspan);b.align&&("left"===b.align?e.class=e.class?e.class+" left":"left":"right"===b.align?
e.class=e.class?e.class+" right":"right":"center"===b.align&&(e.class=e.class?e.class+" center":"center"));return e}function pa(a,b){var c=0,d=0,e=0;b=ea(b);for(var g=0,f=b.length;g<f;g++){var h=b[g];h&&!h.hidden&&(d++,"number"===typeof h.width&&0<h.width&&(e++,c+=h.width))}if(d<=e)return 100;d-=e;a-=c;0<a?(c=parseInt(a/d,10),console.log("\u53ef\u7528\u5bbd\u5ea6\u6709\u4f59")):(c=parseInt(c/e,10),console.log("\u65e0\u53ef\u7528\u5bbd\u5ea6"));return 100<c?c:100}function ea(a,b){if(!t.length)return[];
var c=[],d=D(a)&&a.length;if(d&&b){b=0;for(var e=a.length;b<e;b++){var g=fa(a[b]);g&&!g.hidden&&c.push(g)}return c}b=0;for(e=t.length;b<e;b++)g=t[b],g.hidden||d&&g.prop&&-1===a.indexOf(g.prop)||c.push(g);return c}function ga(a,b){a=a||w;b=b||x;for(var c=[],d=ha?Math.min(b.length,ha):b.length,e=qa,g=N,f=1,h=1,k=0;k<d;k++){var l=b[k],m=l[g],h=[y(l,{type:"select",align:"center",width:40},f,h++),y(l,{type:"fold",align:"center",class:"fold_root",width:40},f,h++),y(l,{prop:e,colspan:a.length},f,h++)];c.push(h);
f++;h=1;q.push(l);for(var n=0,p=m.length;n<p;n++){for(var l=m[n],r=[y(l,{type:"select",align:"center",width:40},f,h++),y(l,{type:"fold",align:"center",class:"fold_sub",index:n+1,width:40},f,h++)],t=0,u=a.length;t<u;t++){var v=y(l,a[t],f,h++);r.push(v)}c.push(r);f++;h=1;q.push(l)}}return c}function ra(a){var b=m.createElement("div"),c="";addClass(b,"table-wrapper");for(var d=0,e=a.length;d<e;d++)c+=ia(a[d],d+1);b.innerHTML=X(c);m.body.appendChild(b);a=b.querySelectorAll('tr[rowy="2"] td');P=[];d=0;
for(e=a.length;d<e;d++)P.push(a[d].offsetWidth);J(b)}function sa(){if(P&&0!==P.length)for(var a=0,b=w.length;a<b;a++){var c=w[a];if(void 0===c.width||!c.width)for(var c=m.querySelectorAll('col[name="column_'+(a+3)+'"]'),d=parseInt(c[0].getAttribute("width"),10),e=P[a+2],d=d>e?d:e,e=0,g=c.length;e<g;e++)c[e].setAttribute("width",d)}}function J(a){var b=a.parentNode;b&&b.removeChild(a)}function Q(a,b,c,d,e,g,f,h){g=g||ja(b,!0,d);f=f||ka(b,!0,c);b=[];c="";for(var k=0,l=0;l<g.length;l++)c+='<col name="column_'+
(l+1)+'" width="'+g[l].width+'" />',k+=g[l].width;c+="";D(b)&&(b[0]=k,b[1]=k+K);c="<colgroup>"+c+"</colgroup>";g=X(c+("<thead>"+ta(g,!0)+"</thead>"),"width:"+b[0]+"px;");f=X(c+ua(f),"width:"+b[0]+"px;");b="";if(d||e)"number"===typeof d?b="width:"+d+"px;":"string"===typeof d&&-1!==d.indexOf("%")&&(b="width:"+d+";"),e&&(b+="height:"+e+"px;"),b='style="'+b+'"';e?(d=m.createElement("div"),d.innerHTML='<div class="table-wrapper complex-table" '+b+'><div class="complex-table__header">'+g+"</div></div>",
m.body.appendChild(d),c=d.querySelector(".complex-table__header").offsetHeight,e='style="height:'+(e-c)+'px;"',J(d),a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+g+'</div><div class="complex-table__body" '+e+">"+f+"</div>"+na()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div><div class="resize-proxy hidden"></div></div>'):a='<div id="'+a+'" class="table-wrapper complex-table'+(h?" "+h:"")+'" '+b+'><div class="complex-table__header">'+
g+'</div><div class="complex-table__body">'+f+"</div>"+na()+'<div class="no-data-hint">\u6682\u65e0\u6570\u636e</div><div class="resize-proxy hidden"></div></div>';return a}function Y(){var a=parseInt(this.getAttribute("pop-idx"),10);A[a]&&clearTimeout(A[a]);C[a].update();C[a].popper.style.display="block"}function Z(){var a=parseInt(this.getAttribute("pop-idx"),10);A[a]&&clearTimeout(A[a]);A[a]=setTimeout(function(){C[a].popper.style.display="none"},100)}function va(){var a=m.getElementById(p),b=
a.querySelector(".complex-table__header"),a=a.querySelector(".complex-table__body");n(a,"scroll",function(){b.scrollLeft=this.scrollLeft;if(this.scrollTop+this.offsetHeight>=this.scrollHeight){var a;if(!(R>=L.length)){a=L[R++];for(var d=ga(null,[a]),e=N,g=0,f=0,h=x.length;f<h;f++)g+=x[f][e].length+1;e=g+1;g=u.length;E[g]=[];for(var f=m.querySelector(".complex-table__body table").lastChild,h=0,k=d.length;h<k;h++){var l=wa(d[h],e);f.appendChild(l);if(0==h){var p=g,z=e++,Fa=l.querySelector(".fold_root");
addClass(l,"fold_root_row");l.setAttribute("fold-row-index",p);p=l.querySelector(".table_select");n(p,"click",aa);var r=l.querySelector(".table_check"),z=z-1;void 0!==q[z].disabled&&(r.disabled=q[z].disabled);void 0!==q[z].checked&&(z=q[z].checked,(r.checked=z)&&addClass(l,"selected"));n(p.querySelector(".table_check"),"click",S);n(p,"click",la);n(Fa,"click",ma);n(l,"click",M)}else Ga(l,g,e++)}u=m.querySelectorAll(".fold_root");F=m.querySelectorAll(".fold_sub");x.push(a)}}})}function T(a){var b=a.parentNode.parentNode.parentNode;
a.checked?addClass(b,"selected"):removeClass(b,"selected")}function xa(){for(var a=m.querySelectorAll(".fold_root"),b=this.checked,c=0,d=a.length;c<d;c++){var e=a[c].previousSibling.querySelector(".table_check");e.checked!==b&&e.click()}if(r.onClickCheckAll)r.onClickCheckAll(b,G())}function S(){var a=m.querySelector(".table_check_all");if(!this.checked&&(a.checked=!1,T(a),r.onSelect))r.onSelect(G());T(this);a=parseInt(this.parentNode.parentNode.parentNode.getAttribute("rowy"),10);if(r.onSelect)r.onSelect(G());
if(r.onClickCheck)r.onClickCheck(H(a),a,this.checked);q[a-1].checked=this.checked}function ya(a,b,c,d){d[0]=0;d[1]=0;d[2]=0;var e=a.length;b&&(d[0]=a.slice(0,b));c&&(d[1]=a.slice(e-c))}function Ha(a,b,c,d){for(var e=[],g=[],f=0,h=a.length;f<h;f++){var k=[];ya(a[f],b,c,k);e[f]=k[0];g[f]=k[1]}d[0]=e;d[1]=g}function U(a,b,c){var d=a.style[b]||"0px",d=d.slice(0,d.indexOf("px"));c=parseInt(d)+c;a.style[b]=c+"px"}function aa(a){a.stopPropagation()}function Ia(a){if(a.prop&&a.onClick)for(var b=m.querySelectorAll('td[data-prop="'+
a.prop+'"]'),c=0,d=b.length;c<d;c++)b[c].style.cursor="pointer",n(b[c],"click",function(b){b.stopPropagation();b=this.parentNode.getAttribute("rowy");a.onClick.call(this,q[b-1])})}function M(){this.querySelector(".table_check").click()}function za(a,b){a=E[a];for(var c=0,d=a.length;c<d;c++)a[c].style.display=b}function ma(a){a.stopPropagation();a=this.parentNode;var b=parseInt(a.getAttribute("fold-row-index"),10);hasClass(a,"closed")?(za(b,"table-row"),removeClass(a,"closed")):(za(b,"none"),addClass(a,
"closed"));if(r.onClickFoldRoot){var c=parseInt(a.getAttribute("rowy"));r.onClickFoldRoot(hasClass(a,"closed"),H(c),Aa(b),b,c,this.nextSibling)}}function la(){for(var a=parseInt(this.parentNode.getAttribute("fold-row-index"),10),a=E[a],b=this.querySelector(".table_check").checked,c=0,d=a.length;c<d;c++){var e=a[c].querySelector(".table_check");e.disabled||(e.checked=b,T(e))}if(r.onSelect)r.onSelect(G());r.onClickRootRow&&(a=this.querySelector(".table_check"),b=this.parentNode,c=parseInt(b.getAttribute("fold-row-index"),
10),d=u[c].nextSibling,e=parseInt(b.getAttribute("rowy"),10),r.onClickRootRow(H(e),e,a.checked,hasClass(b,"closed"),G(c),d))}function ba(){var a=this.querySelector(".table_check").checked,b=parseInt(this.parentNode.getAttribute("fold-row-index"),10),c=u[b].previousSibling.querySelector(".table_check");if(a){a=m.querySelector('.fold_root_row[fold-row-index="'+b+'"]').nextSibling;for(b=!0;hasClass(a,"fold_sub_row");){var d=a.querySelector(".table_check");if(!d.disabled&&!d.checked){b=!1;break}a=a.nextSibling}if(b&&
!c.checked&&(c.checked=!0,T(c),r.onSelect))r.onSelect(G())}else if(c.checked&&(c.checked=!1,T(c),r.onSelect))r.onSelect(G());if(r.onClickSubRow){var c=this.querySelector(".table_check"),e=this.parentNode,a=parseInt(e.getAttribute("fold-row-index"),10),b=u[a].nextSibling,d=parseInt(u[a].parentNode.getAttribute("rowy"),10),e=parseInt(e.getAttribute("rowy"),10);r.onClickSubRow(H(e),e,c.checked,H(d),G(a),b)}}function Ga(a,b,c){E[b].push(a);addClass(a,"fold_sub_row");a.setAttribute("fold-row-index",b);
b=a.querySelector(".table_select");n(b,"click",aa);var d=a.querySelector(".table_check");--c;void 0!==q[c].disabled&&(d.disabled=q[c].disabled);void 0!==q[c].checked&&(c=q[c].checked,(d.checked=c)&&addClass(a,"selected"));d=0;for(c=w.length;d<c;d++){var e=w[d];Ba(a,e);if(e.prop&&e.onClick){var g=a.querySelector('td[data-prop="'+e.prop+'"]');g.style.cursor="pointer";n(g,"click",function(a){a.stopPropagation();a=this.parentNode.getAttribute("rowy");e.onClick.call(this,q[a-1])})}}n(b.querySelector(".table_check"),
"click",S);n(b,"click",ba);n(a,"click",M)}function Ba(a,b){if(W(b.popover)&&W(b.prop)){var c=b.popover,d="",e=!1;"string"===typeof c?d=c:"function"===typeof c&&(e=!0);b=a.querySelector('td[data-prop="'+b.prop+'"]');addClass(b,"popover-cell");var g=m.createElement("div");if(e)if(a=parseInt(a.getAttribute("rowy")),c=c(H(a)))g.innerHTML=c;else return;else g.innerHTML=d;g.style.display="none";addClass(g,"el-popover");m.body.appendChild(g);b.style.cursor="help";c=new Popper(b,g,{placement:"auto-right",
eventsEnabled:!1});c.popper.setAttribute("pop-idx",B);c.reference.setAttribute("pop-idx",B);n(c.popper,"mouseenter",Y);n(c.reference,"mouseenter",Y);n(c.popper,"mouseleave",Z);n(c.reference,"mouseleave",Z);C[B]=c;A[B]=null;B++}}function Ja(a,b,c){addClass(a,"fold_sub_row");a.setAttribute("fold-row-index",b);b=a.querySelector(".table_select");n(b,"click",aa);var d=a.querySelector(".table_check");--c;void 0!==q[c].disabled&&(d.disabled=q[c].disabled);void 0!==q[c].checked&&(c=q[c].checked,(d.checked=
c)&&addClass(a,"selected"));d=0;for(c=w.length;d<c;d++){var e=w[d];Ba(a,e);if(e.prop&&e.onClick){var g=a.querySelector('td[data-prop="'+e.prop+'"]');g.style.cursor="pointer";n(g,"click",function(a){a.stopPropagation();a=this.parentNode.getAttribute("rowy");e.onClick.call(this,q[a-1])})}}n(b.querySelector(".table_check"),"click",S);n(b,"click",ba);n(a,"click",M)}function wa(a,b){function c(a){var b=a.col,c=a.row,d=a.prop||!1,e=a.value||a.html||"-",g="string"===typeof a.class?a.class:"",f=m.createElement("td");
f.innerHTML=e;f.setAttribute("data-prop",d);addClass(f,"cell_"+b+"_"+c+" "+g);a.rowspan&&(f.rowSpan=a.rowspan);a.colspan&&(f.colSpan=a.colspan);a.color&&(f.style.color=a.color);a.bgcolor&&(f.style.backgroundColor=a.bgcolor);return f}var d=m.createElement("tr");if(void 0!==a&&null!==a&&a.length){b=b||1;for(var e=0,g=a.length;e<g;e++)d.appendChild(c(a[e]));d.setAttribute("rowy",b);addClass(d,"row_"+b);return d}}function Aa(a){a=m.querySelector('.fold_root_row[fold-row-index="'+a+'"]').nextSibling;for(var b=
[];hasClass(a,"fold_sub_row");){if(a.querySelector(".table_check").checked){var c=parseInt(a.getAttribute("rowy"),10);b.push(H(c))}a=a.nextSibling}return b}function ca(a,b){for(var c=0;c<a.length;c++)if(a[c].prop==b.prop&&a[c].row==b.row)return!0;return!1}function Ca(a){return m.querySelectorAll("tbody tr")[a.row-1].querySelector("[data-prop="+a.prop+"]")}var Da="undefined"!==typeof Popper,p="",v={version:"1.0.0"},t=[],x=[],L=[],R=0,Ka=0,V=1,u=[],F=[],E=[],m=window.document,r={onSelect:null,onClickCheck:null,
onClickRootRow:null,onClickSubRow:null,onClickFoldRoot:null,onClickCheckAll:null},K=function(){var a=m.createElement("div");a.style.overflow="scroll";a.style.visibility="hidden";a.style.width="100px";a.style.position="absolute";a.style.top="-9999px";m.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=m.createElement("div");c.style.width="100%";a.appendChild(c);c=c.offsetWidth;a.parentNode.removeChild(a);scrollBarWidth=b-c;return scrollBarWidth+1}(),ia=function(a,b){if(void 0===
a||null===a||!a.length)return"";b=b||1;for(var c="",d=0,e=a.length;d<e;d++)var g=a[d],f=g.prop||!1,h=g.bgcolor||!1,k=g.color||!1,c=c+('<td class="cell_'+g.col+"_"+g.row+" "+("string"===typeof g.class?g.class:"")+'"'+(f?' data-prop="'+f+'"':"")+(h||k?' style="'+(h?"background-color:"+h+";":"")+(k?"color:"+k+";":"")+'"':"")+(g.colspan?' colSpan="'+g.colspan+'"':"")+(g.rowspan?' rowSpan="'+g.rowspan+'"':"")+">"+(g.value||g.html||"")+"</td>");return'<tr class="row_'+b+'" rowy="'+b+'">'+c+"</tr>"},ta=
function(a,b){if(void 0===a||null===a||!a.length)return"";for(var c="",d=0,e=a.length;d<e;d++)var g=a[d],f=g.col,h=g.bgcolor||!1,k=g.color||!1,c=c+('<th class="th_'+f+" "+("string"===typeof g.class?g.class:"")+'" name="column_'+f+'"'+(h||k?' style="'+(h?"background-color:"+h+";":"")+(k?"color:"+k+";":"")+'"':"")+">"+(g.value||g.html||"\u5355\u5143\u683c")+"</th>");c+=b?'<th class="th_gutter" style="width:'+K+'px;"></th>':"";return"<tr>"+c+"</tr>"},ua=function(a,b){for(var c="",d=0,e=a.length;d<e;d++)c+=
ia(a[d],d+1);return b?c:"<tbody>"+c+"</tbody>"},X=function(a,b){return void 0===b||null===b||""===b?"<table>"+a+"</table>":'<table style="'+b+'">'+a+"</table>"},fa=function(a){if(!a)return!1;if("string"===typeof a)for(var b=0,c=t.length;b<c;b++){var d=t[b];if(d.prop===a)return d}if("object"===typeof a)for(b=0,c=t.length;b<c;b++)if(d=t[b],d.type===a.type)return d;return!1},ja=function(a,b,c){if(t.length){var d=[],e=D(a)&&a.length;c=pa(c,a);if(e&&b){b=0;for(var g=a.length;b<g;b++){var f=fa(a[b]);f&&
!f.hidden&&(f=O(f,b+1,c),d.push(f))}return d}b=0;for(g=t.length;b<g;b++)f=t[b],f.hidden||e&&f.prop&&-1===a.indexOf(f.prop)||(f=O(f,b+1,c),d.push(f));return d}},ka=function(a,b,c){if(t.length){var d=[];c=c?Math.min(x.length,c):x.length;var e=D(a)&&a.length;if(e&&b){for(b=0;b<c;b++){for(var g=x[b],f=[],h=0,k=a.length;h<k;h++){var l=fa(a[h]);l&&!l.hidden&&(l=y(g,l,b+1,h+1),f.push(l))}d.push(f)}return d}for(b=0;b<c;b++){g=x[b];f=[];h=0;for(k=t.length;h<k;h++)l=t[h],l.hidden||e&&l.prop&&-1===a.indexOf(l.prop)||
(l=y(g,l,b+1,h+1),f.push(l));d.push(f)}return d}},q=[],w=[],ha=50,qa="",N="",P=[],C=[],A=[],B=0,Ea=function(a,b,c,d,e,g,f){p="scxxTable_"+V++;a.innerHTML=Q(p,b,c,d,e,g,f);va(p);return p},da={inited:!1,init:function(){this.inited||(va(),this.inited=!0)},clear:function(){if(u.length){var a=m.getElementById(p),b=a.querySelector(".table_check_all"),a=a.querySelectorAll(".table_check");I(b,"click",xa);for(var b=0,c=a.length;b<c;b++)I(a[b],"click",S);a=0;for(b=u.length;a<b;a++)c=u[a].previousSibling,I(c,
"click",la),I(u[a],"click",ma),c=c.parentNode,I(c,"click",M);a=0;for(b=F.length;a<b;a++)c=F[a].previousSibling,I(c,"click",ba),c=c.parentNode,I(c,"click",M)}},rebind:function(){var a=m.getElementById(p);a.querySelector(".complex-table__header");var b=a.querySelector(".complex-table__body"),c=a.querySelector(".complex-table__body table");c.offsetWidth>b.offsetWidth?addClass(a,"with_xscroll"):removeClass(a,"with_xscroll");c.offsetHeight>b.offsetHeight?addClass(a,"with_yscroll"):removeClass(a,"with_yscroll");
c.offsetHeight<b.offsetHeight-1?addClass(a,"with_botline"):removeClass(a,"with_botline");a=m.querySelectorAll(".table_select");b=0;for(c=a.length;b<c;b++)n(a[b],"click",aa);if(0!==q.length)for(a=0,b=q.length;a<b;a++)c=m.querySelector("tr.row_"+(a+1)).querySelector(".table_check"),void 0!==q[a].disabled&&(c.disabled=q[a].disabled),void 0!==q[a].checked&&(c.checked=q[a].checked);if(Da){a=m.querySelectorAll(".el-popover");b=0;for(c=a.length;b<c;b++)J(a[b]);if(Da&&0!==C.length){a=0;for(b=A.length;a<b;a++)A[a]&&
clearTimeout(A[a]);a=0;for(b=C.length;a<b;a++)C[a]&&C[a].destroy();C=[];A=[];B=0}a=0;for(b=w.length;a<b;a++){var d=w[a];if(W(d.popover)&&W(d.prop)){var c=d.popover,e="",g=!1;"string"===typeof c?e=c:"function"===typeof c&&(g=!0);for(var d=m.querySelectorAll('td[data-prop="'+d.prop+'"]'),f=0,h=d.length;f<h;f++){addClass(d[f],"popover-cell");var k=m.createElement("div");if(g){var l=parseInt(d[f].parentNode.getAttribute("rowy"));if(l=c(H(l)))k.innerHTML=l;else continue}else k.innerHTML=e;k.style.display=
"none";addClass(k,"el-popover");m.body.appendChild(k);d[f].style.cursor="help";k=new Popper(d[f],k,{placement:"auto-right",eventsEnabled:!1});k.popper.setAttribute("pop-idx",B);k.reference.setAttribute("pop-idx",B);n(k.popper,"mouseenter",Y);n(k.reference,"mouseenter",Y);n(k.popper,"mouseleave",Z);n(k.reference,"mouseleave",Z);C[B]=k;A[B]=null;B++}}}}else console.log("\u4e0d\u652f\u6301\u6d6e\u6846\u63d0\u793a");a=m.getElementById(p);b=a.querySelector(".table_check_all");a=a.querySelectorAll(".table_check");
n(b,"click",xa);b=0;for(c=a.length;b<c;b++)n(a[b],"click",S);u=m.querySelectorAll(".fold_root");F=m.querySelectorAll(".fold_sub");a=0;for(b=F.length;a<b;a++)c=F[a].parentNode,addClass(c,"fold_sub_row");E=[];a=0;for(b=u.length;a<b;a++)for(c=u[a].parentNode,addClass(c,"fold_root_row"),c.setAttribute("fold-row-index",a),c=c.nextSibling,E[a]=[];hasClass(c,"fold_sub_row");)c.setAttribute("fold-row-index",a),E[a].push(c),c=c.nextSibling;a=0;for(b=u.length;a<b;a++)c=u[a].previousSibling,n(c,"click",la),
n(u[a],"click",ma),c=c.parentNode,n(c,"click",M);a=0;for(b=F.length;a<b;a++)c=F[a].previousSibling,n(c,"click",ba),c=c.parentNode,n(c,"click",M);a=0;for(b=w.length;a<b;a++)Ia(w[a])}},H=function(a){if(D(a)){for(var b=[],c=0,d=a.length;c<d;c++)b.push(q[a[c]-1]);return b}return"number"===typeof a?q[a-1]:q},G=function(a){if("number"===typeof a)return Aa(a);a=m.querySelectorAll("tr.selected");for(var b=[],c=0,d=a.length;c<d;c++){var e=parseInt(a[c].getAttribute("rowy"),10);b.push(e)}return H(b)};v.createSimpleTable=
function(a,b,c,d,e,g,f){p="scxxTable_"+V;g=g||ja(b,!0,d);f=f||ka(b,!0,c);b="";c=c?Math.min(f.length,c):f.length;for(var h=0;h<c;h++)b+=ia(f[h],h+1);f="";if(d||e)d&&(f="width:"+d+"px;"),e&&(f+="height:"+e+"px;"),f='style="'+f+'"';a.innerHTML='<div id="'+p+'" class="table-wrapper" '+f+">"+X(ta(g)+b)+"</div>";a=m.getElementById(p);a.querySelector("table").offsetHeight<a.offsetHeight-2&&addClass(a,"with_botline");V++;return p};v.createComplexTable=Ea;v.createFixedColTable=function(a,b,c,d,e,g,f,h){if(!a||
!a.left&&!a.right)return Ea(b,c,d,e,g,f,h);p="scxxTable_"+V++;f=f||ja(c,!0,e);h=h||ka(c,!0,d);var k=a.left||0,l=a.right||0;if(k+l>=f.length)return!1;a=[];c=[];ya(f,k,l,a);Ha(h,k,l,c);e=Q(p,[],null,e,g,f,h);f=k?Q(p+"_left",[],null,null,g,a[0],c[0]):"";g=l?Q(p+"_right",[],null,null,g,a[1],c[1]):"";b.innerHTML='<div id="Wrapper_'+p+'" class="fixedcol-table">'+e+'<div class="fixedcol-table__left">'+f+'</div><div class="fixedcol-table__right">'+g+'</div><div class="fixed_right_patch"></div></div>';b=m.getElementById("Wrapper_"+
p);g=m.getElementById(p);e=k?m.getElementById(p+"_left"):0;f=l?m.getElementById(p+"_right"):0;var q=g.querySelector(".complex-table__header");h=k?e.querySelector(".complex-table__header"):0;a=l?f.querySelector(".complex-table__header"):0;c=g.querySelector(".complex-table__body");var z=k?e.querySelector(".complex-table__body"):0,r=l?f.querySelector(".complex-table__body"):0;d=g.querySelector(".complex-table__body table");n(c,"scroll",function(){q.scrollLeft=this.scrollLeft;k&&(z.scrollTop=this.scrollTop);
l&&(r.scrollTop=this.scrollTop)});d.offsetWidth>c.offsetWidth&&(addClass(g,"with_xscroll"),k&&(U(e,"height",-K+2),U(z,"height",-K+2)),l&&(U(f,"height",-K+2),U(r,"height",-K+2)));d.offsetHeight>c.offsetHeight?(addClass(g,"with_yscroll"),l&&(addClass(b,"with_yscroll_patch"),U(f.parentNode,"right",K))):J(q.querySelector(".th_gutter"));k&&J(h.querySelector(".th_gutter"));l&&J(a.querySelector(".th_gutter"));d.offsetHeight<c.offsetHeight-1&&(addClass(g,"with_botline"),k&&addClass(e,"with_botline"),l&&addClass(f,
"with_botline"));return p};v.createFoldTable=function(a,b,c,d,e,g,f,h){if(!f)if(t.length){f=ea(c,!0);for(var k=pa(e-80,c),l=[O({type:"select",width:40},1,k),O({type:"fold",width:40},2,k)],m=0,n=f.length;m<n;m++){var q=O(f[m],m+3,k);l.push(q)}f=l}else f=void 0;h||(t.length?(h=w=ea(c,!0),qa=a.parentProp,N=a.childrenProp,ha=d,h=ga(h)):h=void 0);p="scxxTable_"+V++;a="fold-table";k=!1;D(h)&&0!==h.length||(k=!0,a+=" is-empty");b.innerHTML=Q(p,c,d,e,g,f,h,a);k||(ra(h),sa());return p};v.mergeCells=function(a){for(var b=
[],c=[],d=0;d<a.length;d++){b.push(a[d]);var e=a[d].row,g=a[d].rowspan,f=a[d].colspan,h=a[d].prop,k;a:{for(var l=0;l<t.length;l++)if(t[l].prop==h){k=l;break a}k=!1}l=k+1;for(f=k+f;l<f;l++){k=e;for(var m=e+g;k<m;k++){var n={prop:t[l].prop,row:k};ca(c,n)||ca(a,n)||c.push(n)}}l=e+1;for(m=e+g;l<m;l++)n={prop:h,row:l},ca(c,n)||ca(a,n)||c.push(n)}for(a=0;a<b.length;a++)d=b[a],e=Ca(d),e.rowSpan=d.rowspan,e.colSpan=d.colspan,addClass(e,"merged");for(a=0;a<c.length;a++)d=c[a],e=Ca(d),addClass(e,"hidden")};
v.updateTableWidth=function(a,b){m.getElementById(a).style.width=b+"px"};v.updateTableHeight=function(a,b){m.getElementById(a).style.height=b+"px"};v.getSelectedRows=G;v.tableEventHandler=r;v.updateFoldTable=function(a,b){var c=m.querySelector(".fold-table");if(D(a)&&0!==a.length){removeClass(c,"is-empty");da.clear();q=[];L=a;a=N;for(var c=m.querySelector(".complex-table__body").offsetHeight,c=Ka=Math.ceil(c/25),d=b=0,e=L.length;d<e&&!(b+=L[d][a].length+1,b>c);d++);R=d+1;x=L.slice(0,R);c=ga();b=ua(c,
!0);a=m.querySelector(".complex-table__body table");d=a.lastChild;e=m.createElement("tbody");e.innerHTML=b;a.replaceChild(e,d);da.init();da.rebind();ra(c);sa()}else b&&(da.clear(),a=m.querySelector(".complex-table__body table tbody"),a.innerHTML="",addClass(c,"is-empty")),q=[],L=[],R=0,x=[],u=[],F=[];oa()};v.updateFoldTableSubRows=function(a,b,c){if(D(c)&&D(c[0][N])){var d=b-1;if(void 0!==c[0].disabled||void 0!==c[0].checked){q[d].disabled=c[0].disabled;var d=m.querySelector('tr[rowy="'+b+'"]'),e=
d.querySelector(".table_check");e.checked=c[0].checked||!1;e.disabled=c[0].disabled||!1;e.checked?addClass(d,"selected"):removeClass(d,"selected")}b++;e=c[0][N];c=m.querySelectorAll('.fold_sub_row[fold-row-index="'+a+'"]');for(var g=w,d=[],f=b||1,h=1,k=0,l=e.length;k<l;k++){for(var n=e[k],p=[y(n,{type:"select",align:"center",width:40},f,h++),y(n,{type:"fold",align:"center",class:"fold_sub",index:k+1,width:40},f,h++)],r=0,t=g.length;r<t;r++){var u=y(n,g[r],f,h++);p.push(u)}d.push(p);h=f-1;void 0!==
q[h].checked&&void 0===n.checked&&(n.checked=q[h].checked);q.splice(h,1,n);console.log("new tableRows["+h+"]",q[h]);f++;h=1}E[a]=[];e=0;for(g=d.length;e<g;e++)if(f=wa(d[e],b))c[0].parentNode.insertBefore(f,c[0]),E[a].push(f),Ja(f,a,b++);e=0;for(g=c.length;e<g;e++)J(c[e])}};v.showTableLoading=function(){m.getElementById("tableLoadingSpinner").style.display="block"};v.hideTableLoading=oa;v.enableDragSetColWidth=function(){for(var a=m.querySelectorAll(".complex-table__header th:not(.th_gutter)"),b=!1,
c,d,e,g="",f=function(a){var f=this.offsetParent.getBoundingClientRect().left,h=this.getBoundingClientRect(),l=h.left-f+30,k=m.querySelector(".resize-proxy");b=!0;removeClass(k,"hidden");m.onselectstart=function(){return!1};m.ondragstart=function(){return!1};c=a.clientX;d=h.right-f;e=h.left-f;var n=function(a){k.style.left=Math.max(l,d+(a.clientX-c))+"px"},p=function(){if(b){for(var a=e,a=parseInt(k.style.left,10)-a,f=m.querySelectorAll("col[name="+g+"]"),h=0;h<f.length;h++)f[h].width=a;m.body.style.cursor=
"";b=!1;addClass(k,"hidden");e=d=c=void 0}m.removeEventListener("mousemove",n);m.removeEventListener("mouseup",p);m.onselectstart=null;m.ondragstart=null};m.addEventListener("mousemove",n);m.addEventListener("mouseup",p)},h=function(a){var c=a.target.getAttribute("name"),d=a.target;b||(g=c,c=d.getBoundingClientRect(),d=m.body.style,12<c.width&&8>c.right-a.pageX?d.cursor="col-resize":b||(d.cursor=""))},k=function(){b||(m.body.style.cursor="")},l=0,q=a.length;l<q;l++){var p=a[l];n(p,"mousemove",h);
n(p,"mousedown",f);n(p,"mouseout",k)}};v.loadRows=function(a){x=a||[]};v.initTable=function(a,b){t=a;x=b||[]};window.ScxxTable=v})();